<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RelaÃ§Ãµes Respeitosas - PrevenÃ§Ã£o da ViolÃªncia</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Modal para capturar nome do usuÃ¡rio -->
    <div id="userModal" class="user-input-modal">
        <div class="modal-content">
            <h2>ğŸ¤ Bem-vindo!</h2>
            <p>Antes de comeÃ§ar, nos conte seu nome para personalizar sua experiÃªncia e acompanhar seu progresso:</p>
            <input type="text" id="userName" class="user-input" placeholder="Digite seu nome aqui..." maxlength="50">
            <button onclick="startApp()" class="start-button">ComeÃ§ar Jornada! ğŸš€</button>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1>ğŸ¤ RelaÃ§Ãµes Respeitosas</h1>
            <p>Construindo um mundo sem violÃªncia atravÃ©s do respeito e igualdade</p>
            <div class="user-welcome" id="userWelcome" style="display: none;"></div>
        </div>

        <div class="navigation">
            <button class="nav-button active" onclick="showSection('home')">ğŸ  InÃ­cio</button>
            <button class="nav-button" onclick="showSection('learn')">ğŸ“š Aprender</button>
            <button class="nav-button" onclick="showSection('quiz')">ğŸ§  Quiz</button>
            <button class="nav-button" onclick="showSection('scenarios')">ğŸ­ CenÃ¡rios</button>
            <button class="nav-button" onclick="showSection('workplace')">ğŸ’¼ Trabalho</button>
            <button class="nav-button" onclick="showSection('ranking')">ğŸ† Ranking</button>
            <button class="nav-button" onclick="showSection('resources')">ğŸ“ Recursos</button>
        </div>

        <div id="home" class="content-section active">
            <h2>ğŸŒŸ Bem-vindo ao seu espaÃ§o de aprendizado!</h2>
            <p>Este aplicativo foi criado para ajudar jovens a construir relaÃ§Ãµes mais saudÃ¡veis e respeitosas, combatendo a violÃªncia de gÃªnero e intrafamiliar.</p>
            
            <div class="user-stats">
                <h3>ğŸ“Š Suas EstatÃ­sticas</h3>
                <p><strong>PontuaÃ§Ã£o Total:</strong> <span id="userTotalScore">0</span> pontos</p>
                <p><strong>Quiz Completados:</strong> <span id="userQuizCount">0</span></p>
                <p><strong>PosiÃ§Ã£o no Ranking:</strong> <span id="userRankPosition">-</span></p>
            </div>
            
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-number" id="progress-stat">0%</div>
                    <div>Progresso Completo</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="quiz-stat">0</div>
                    <div>Quiz Respondidos</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="scenario-stat">0</div>
                    <div>CenÃ¡rios Explorados</div>
                </div>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="main-progress"></div>
            </div>

            <h3>ğŸ¯ O que vocÃª vai aprender:</h3>
            <ul style="list-style: none; padding: 20px 0;">
                <li>âœ… Reconhecer sinais de violÃªncia</li>
                <li>âœ… Construir relaÃ§Ãµes igualitÃ¡rias</li>
                <li>âœ… Como agir em situaÃ§Ãµes de risco</li>
                <li>âœ… Recursos de ajuda e denÃºncia</li>
                <li>âœ… PrevenÃ§Ã£o no ambiente de trabalho</li>
            </ul>
        </div>

        <div id="learn" class="content-section">
            <h2>ğŸ“š Conhecimento Ã© Poder</h2>
            
            <div class="scenario">
                <h3>ğŸ” Tipos de ViolÃªncia</h3>
                <p><strong>ViolÃªncia FÃ­sica:</strong> Qualquer aÃ§Ã£o que cause dano corporal</p>
                <p><strong>ViolÃªncia PsicolÃ³gica:</strong> HumilhaÃ§Ãµes, ameaÃ§as, controle excessivo</p>
                <p><strong>ViolÃªncia Sexual:</strong> Qualquer ato sexual sem consentimento</p>
                <p><strong>ViolÃªncia Patrimonial:</strong> DestruiÃ§Ã£o ou controle de bens</p>
                <p><strong>ViolÃªncia Moral:</strong> DifamaÃ§Ã£o, calÃºnia, injÃºria</p>
            </div>

            <div class="scenario">
                <h3>âš ï¸ Sinais de Alerta</h3>
                <p>â€¢ Controle excessivo sobre atividades, amizades ou dinheiro</p>
                <p>â€¢ Isolamento da famÃ­lia e amigos</p>
                <p>â€¢ CiÃºme possessivo e comportamento controlador</p>
                <p>â€¢ DesvalorizaÃ§Ã£o constante e humilhaÃ§Ãµes</p>
                <p>â€¢ AmeaÃ§as e intimidaÃ§Ãµes</p>
                <p>â€¢ MudanÃ§as bruscas de humor</p>
            </div>

            <div class="scenario">
                <h3>ğŸ¤ RelaÃ§Ãµes SaudÃ¡veis</h3>
                <p>â€¢ Respeito mÃºtuo e comunicaÃ§Ã£o aberta</p>
                <p>â€¢ Apoio aos sonhos e objetivos do(a) parceiro(a)</p>
                <p>â€¢ ResoluÃ§Ã£o pacÃ­fica de conflitos</p>
                <p>â€¢ ConfianÃ§a e honestidade</p>
                <p>â€¢ EspaÃ§o para individualidade</p>
                <p>â€¢ Consenso em decisÃµes importantes</p>
            </div>
        </div>

        <div id="quiz" class="content-section">
            <h2>ğŸ§  Teste Seus Conhecimentos</h2>
            <p style="text-align: center; margin-bottom: 20px;">Cada resposta correta vale <strong>10 pontos</strong>! ğŸ¯</p>
            
            <div class="quiz-container" id="quiz-container">
                <!-- Quiz serÃ¡ carregado dinamicamente -->
            </div>
        </div>

        <div id="scenarios" class="content-section">
            <h2>ğŸ­ SituaÃ§Ãµes do Dia a Dia</h2>
            <p style="text-align: center; margin-bottom: 20px;">Explore os cenÃ¡rios e ganhe <strong>5 pontos</strong> por situaÃ§Ã£o bem resolvida! â­</p>
            
            <div class="scenario">
                <h3>SituaÃ§Ã£o 1: Festa entre Amigos</h3>
                <p>Em uma festa, vocÃª vÃª um amigo fazendo comentÃ¡rios desrespeitosos sobre as mulheres presentes e tocando-as sem consentimento.</p>
                
                <div class="action-buttons">
                    <button class="action-button" onclick="showScenarioFeedback(1, 'A')">Ignorar a situaÃ§Ã£o</button>
                    <button class="action-button" onclick="showScenarioFeedback(1, 'B')">Confrontar o amigo na frente de todos</button>
                    <button class="action-button" onclick="showScenarioFeedback(1, 'C')">Conversar com ele em particular</button>
                    <button class="action-button" onclick="showScenarioFeedback(1, 'D')">Apoiar as mulheres e buscar ajuda</button>
                </div>
                
                <div id="feedback1" class="feedback"></div>
            </div>

            <div class="scenario">
                <h3>SituaÃ§Ã£o 2: Relacionamento Controlador</h3>
                <p>Uma amiga conta que o namorado nÃ£o deixa ela sair com vocÃªs e sempre quer saber onde ela estÃ¡.</p>
                
                <div class="action-buttons">
                    <button class="action-button" onclick="showScenarioFeedback(2, 'A')">Dizer que isso Ã© normal</button>
                    <button class="action-button" onclick="showScenarioFeedback(2, 'B')">Explicar que isso nÃ£o Ã© amor</button>
                    <button class="action-button" onclick="showScenarioFeedback(2, 'C')">Oferecer apoio e informaÃ§Ã£o</button>
                    <button class="action-button" onclick="showScenarioFeedback(2, 'D')">Confrontar o namorado</button>
                </div>
                
                <div id="feedback2" class="feedback"></div>
            </div>

            <div class="scenario">
                <h3>SituaÃ§Ã£o 3: ViolÃªncia Familiar</h3>
                <p>Um colega chega sempre machucado na escola e parece com medo quando perguntam sobre a famÃ­lia.</p>
                
                <div class="action-buttons">
                    <button class="action-button" onclick="showScenarioFeedback(3, 'A')">NÃ£o se envolver</button>
                    <button class="action-button" onclick="showScenarioFeedback(3, 'B')">Perguntar diretamente sobre os machucados</button>
                    <button class="action-button" onclick="showScenarioFeedback(3, 'C')">Oferecer apoio e mostrar que se importa</button>
                    <button class="action-button" onclick="showScenarioFeedback(3, 'D')">Procurar um adulto de confianÃ§a</button>
                </div>
                
                <div id="feedback3" class="feedback"></div>
            </div>
        </div>

        <div id="workplace" class="content-section">
            <h2>ğŸ’¼ Ambiente de Trabalho Respeitoso</h2>
            
            <div class="scenario">
                <h3>ğŸ¢ AssÃ©dio no Trabalho</h3>
                <p>O assÃ©dio moral e sexual no ambiente de trabalho sÃ£o crimes e devem ser denunciados.</p>
                <ul>
                    <li>Documente todas as situaÃ§Ãµes (datas, locais, testemunhas)</li>
                    <li>Procure o RH ou supervisÃ£o</li>
                    <li>Converse com colegas de confianÃ§a</li>
                    <li>Busque apoio jurÃ­dico se necessÃ¡rio</li>
                </ul>
            </div>

            <div class="scenario">
                <h3>âš–ï¸ Igualdade de GÃªnero</h3>
                <p>Como promover igualdade no trabalho:</p>
                <ul>
                    <li>Questionar piadas ou comentÃ¡rios discriminatÃ³rios</li>
                    <li>Apoiar colegas em situaÃ§Ãµes de desigualdade</li>
                    <li>Promover inclusÃ£o e diversidade</li>
                    <li>Denunciar discriminaÃ§Ã£o quando presenciar</li>
                </ul>
            </div>

            <div class="quiz-container">
                <div class="quiz-question">
                    SituaÃ§Ã£o: Um colega sempre interrompe as mulheres nas reuniÃµes. O que fazer?
                </div>
                <div class="quiz-options" id="workplace-quiz">
                    <div class="quiz-option" onclick="checkWorkplaceAnswer(this, false)">NÃ£o fazer nada</div>
                    <div class="quiz-option" onclick="checkWorkplaceAnswer(this, false)">Rir da situaÃ§Ã£o</div>
                    <div class="quiz-option" onclick="checkWorkplaceAnswer(this, true)">Dar espaÃ§o para elas falarem</div>
                    <div class="quiz-option" onclick="checkWorkplaceAnswer(this, false)">Interromper tambÃ©m</div>
                </div>
                <div id="workplace-feedback" class="feedback"></div>
            </div>
        </div>

        <div id="ranking" class="content-section">
            <h2>ğŸ† Ranking de Participantes</h2>
            
            <div class="ranking-section">
                <h3 class="ranking-title">ğŸ¥‡ Top Pontuadores</h3>
                <div id="rankingList">
                    <!-- Ranking serÃ¡ carregado dinamicamente -->
                </div>
            </div>

            <div class="user-stats">
                <h3>ğŸ“ˆ EstatÃ­sticas Globais</h3>
                <p><strong>Total de Participantes:</strong> <span id="totalParticipants">0</span></p>
                <p><strong>PontuaÃ§Ã£o MÃ©dia:</strong> <span id="averageScore">0</span> pontos</p>
                <p><strong>Maior PontuaÃ§Ã£o:</strong> <span id="highestScore">0</span> pontos</p>
            </div>
        </div>

        <div id="resources" class="content-section">
            <h2>ğŸ“ Recursos de Ajuda</h2>
            
            <button class="emergency-button" onclick="alert('Em caso de emergÃªncia, ligue 190 (PolÃ­cia) ou 180 (Central de Atendimento Ã  Mulher)')">
                ğŸš¨ EMERGÃŠNCIA - CLIQUE AQUI
            </button>
            
            <div class="resources">
                <div class="resource-card">
                    <h3>ğŸ“± Central de Atendimento Ã  Mulher</h3>
                    <p><strong>Telefone:</strong> 180</p>
                    <p>Atendimento 24h, gratuito e confidencial</p>
                </div>
                
                <div class="resource-card">
                    <h3>ğŸš” PolÃ­cia Militar</h3>
                    <p><strong>Telefone:</strong> 190</p>
                    <p>Para situaÃ§Ãµes de emergÃªncia</p>
                </div>
                
                <div class="resource-card">
                    <h3>ğŸ›ï¸ MinistÃ©rio PÃºblico</h3>
                    <p><strong>Telefone:</strong> 127</p>
                    <p>DenÃºncias e orientaÃ§Ãµes jurÃ­dicas</p>
                </div>
                
                <div class="resource-card">
                    <h3>ğŸ‘¨â€âš•ï¸ CVV - Centro de ValorizaÃ§Ã£o da Vida</h3>
                    <p><strong>Telefone:</strong> 188</p>
                    <p>Apoio emocional e prevenÃ§Ã£o ao suicÃ­dio</p>
                </div>
                
                <div class="resource-card">
                    <h3>ğŸ§’ Conselho Tutelar</h3>
                    <p><strong>Telefone:</strong> Varia por cidade</p>
                    <p>ProteÃ§Ã£o de crianÃ§as e adolescentes</p>
                </div>
                
                <div class="resource-card">
                    <h3>ğŸ’» Aplicativos Ãšteis</h3>
                    <p>â€¢ PenhaS - App de seguranÃ§a para mulheres</p>
                    <p>â€¢ SOS Mulher - Rede de apoio</p>
                    <p>â€¢ Clique 180 - DenÃºncias online</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Mostrar modal para capturar nome
            const userModal = document.getElementById('userModal');
            userModal.style.display = 'flex';

            // Permitir Enter para enviar nome
            const userNameInput = document.getElementById('userName');
            userNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    startApp();
                }
            });
        });

        // InicializaÃ§Ã£o do app
        function startApp() {
            const nameInput = document.getElementById('userName');
            const name = nameInput.value.trim();

            if (name === '') {
                alert('Por favor, digite seu nome para continuar!');
                return;
            }

            // Atualiza o nome do usuÃ¡rio e oculta o modal
            currentUser.name = name;
            document.getElementById('userModal').style.display = 'none'; // Oculta o modal
            document.getElementById('userWelcome').innerHTML = `ğŸ‰ OlÃ¡, <strong>${name}</strong>! Vamos aprender juntos!`;
            document.getElementById('userWelcome').style.display = 'block'; // Mostra a mensagem de boas-vindas

            updateAllStats(); // Atualiza as estatÃ­sticas
        }

        // VariÃ¡veis globais
        let currentUser = {
            name: '',
            totalScore: 0,
            quizCompleted: 0,
            scenariosCompleted: 0,
            completedQuestions: new Set(),
            completedScenarios: new Set()
        };

        function updateAllStats() {
            document.getElementById('userTotalScore').textContent = currentUser.totalScore;
            document.getElementById('userQuizCount').textContent = currentUser.quizCompleted;
            document.getElementById('quiz-stat').textContent = currentUser.quizCompleted;
            document.getElementById('scenario-stat').textContent = currentUser.scenariosCompleted;

            const totalActions = quizQuestions.length + 3; // 3 cenÃ¡rios
            const completed = currentUser.quizCompleted + currentUser.scenariosCompleted;
            const percentage = Math.min((completed / totalActions) * 100, 100);

            document.getElementById('main-progress').style.width = percentage + '%';
            document.getElementById('progress-stat').textContent = Math.round(percentage) + '%';

            savePlayerData(); // Salvar dados no banco de dados
        }

        function savePlayerData() {
            const data = new FormData();
            data.append('name', currentUser.name);
            data.append('total_score', currentUser.totalScore);
            data.append('quiz_completed', currentUser.quizCompleted);
            data.append('scenarios_completed', currentUser.scenariosCompleted);

            fetch('save_player.php', {
                method: 'POST',
                body: data
            })
            .then(response => response.text())
            .then(result => console.log(result))
            .catch(error => console.error('Erro ao salvar dados:', error));
        }

        function loadGlobalRanking() {
            const rankingList = document.getElementById('rankingList');
            rankingList.innerHTML = '<p>Carregando ranking...</p>';

            fetch('get_ranking.php')
                .then(response => response.json())
                .then(data => {
                    let rankingHTML = '';
                    data.forEach((player, index) => {
                        rankingHTML += `
                            <div class="ranking-item">
                                <div class="ranking-position">${index + 1}</div>
                                <span>${player.name}</span>
                                <div><strong>${player.total_score} pts</strong></div>
                            </div>
                        `;
                    });
                    rankingList.innerHTML = rankingHTML || '<p>Nenhum jogador no ranking ainda.</p>';
                })
                .catch(error => console.error('Erro ao carregar ranking:', error));
        }

        // FunÃ§Ã£o para alternar entre as seÃ§Ãµes
        function showSection(sectionId) {
            // Ocultar todas as seÃ§Ãµes
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => section.classList.remove('active'));

            // Remover a classe 'active' de todos os botÃµes
            const buttons = document.querySelectorAll('.nav-button');
            buttons.forEach(button => button.classList.remove('active'));

            // Mostrar a seÃ§Ã£o selecionada
            document.getElementById(sectionId).classList.add('active');

            // Adicionar a classe 'active' ao botÃ£o clicado
            const clickedButton = document.querySelector(`.nav-button[onclick="showSection('${sectionId}')"]`);
            if (clickedButton) {
                clickedButton.classList.add('active');
            }

            if (sectionId === 'ranking') {
                loadGlobalRanking();
            }
        }

        const quizQuestions = [
            {
                question: "Qual Ã© o primeiro sinal de um relacionamento abusivo?",
                options: [
                    "AgressÃ£o fÃ­sica",
                    "Controle excessivo",
                    "Gritos constantes",
                    "Isolamento social"
                ],
                correct: 1,
                explanation: "O controle excessivo geralmente Ã© o primeiro sinal, precedendo outras formas de violÃªncia."
            },
            {
                question: "O que significa consentimento?",
                options: [
                    "Dizer 'sim' uma vez",
                    "NÃ£o dizer 'nÃ£o'",
                    "ConcordÃ¢ncia livre, contÃ­nua e informada",
                    "Aceitar por pressÃ£o"
                ],
                correct: 2,
                explanation: "Consentimento deve ser dado de forma livre, contÃ­nua e pode ser retirado a qualquer momento."
            },
            {
                question: "Como ajudar alguÃ©m em situaÃ§Ã£o de violÃªncia?",
                options: [
                    "Confrontar o agressor",
                    "Oferecer apoio sem julgamentos",
                    "Dar conselhos sobre o que fazer",
                    "Resolver o problema sozinho"
                ],
                correct: 1,
                explanation: "O apoio sem julgamentos Ã© fundamental. A pessoa deve tomar suas prÃ³prias decisÃµes."
            },
            {
                question: "Qual atitude promove igualdade de gÃªnero no trabalho?",
                options: [
                    "Fazer piadas sobre diferenÃ§as",
                    "Ignorar situaÃ§Ãµes de discriminaÃ§Ã£o",
                    "Apoiar colegas e questionar preconceitos",
                    "Manter-se neutro sempre"
                ],
                correct: 2,
                explanation: "Apoiar colegas e questionar atitudes discriminatÃ³rias Ã© essencial para um ambiente igualitÃ¡rio."
            },
            {
                question: "O que caracteriza uma relaÃ§Ã£o saudÃ¡vel?",
                options: [
                    "Controle sobre as atividades do parceiro",
                    "Respeito mÃºtuo e comunicaÃ§Ã£o aberta",
                    "CiÃºme como prova de amor",
                    "DependÃªncia emocional total"
                ],
                correct: 1,
                explanation: "RelaÃ§Ãµes saudÃ¡veis sÃ£o baseadas em respeito, confianÃ§a e comunicaÃ§Ã£o aberta entre parceiros."
            }
        ];

        let currentQuiz = 0;
        let quizAnswered = false;

        function loadQuiz() {
            if (currentQuiz >= quizQuestions.length) {
                document.getElementById('quiz-container').innerHTML = `
                    <div class="scenario">
                        <h3>ğŸ‰ ParabÃ©ns!</h3>
                        <p>VocÃª completou todos os quizzes!</p>
                        <p><strong>Sua pontuaÃ§Ã£o:</strong> ${currentUser.totalScore} pontos</p>
                        <button class="action-button" onclick="resetQuiz()" style="margin-top: 15px;">ğŸ”„ Refazer Quiz</button>
                    </div>
                `;
                return;
            }

            const question = quizQuestions[currentQuiz];
            const container = document.getElementById('quiz-container');

            container.innerHTML = `
                <div class="quiz-question">
                    Pergunta ${currentQuiz + 1}/${quizQuestions.length}: ${question.question}
                </div>
                <div class="quiz-options" id="current-quiz-options">
                    ${question.options.map((option, index) => 
                        `<div class="quiz-option" onclick="checkQuizAnswer(${index})">${option}</div>`
                    ).join('')}
                </div>
                <div id="quiz-feedback" class="feedback"></div>
                <div style="margin-top: 20px; text-align: center;">
                    <button class="action-button" onclick="nextQuiz()" id="next-quiz" style="display: none;">PrÃ³xima Pergunta â¡ï¸</button>
                </div>
            `;

            quizAnswered = false;
        }

        function checkQuizAnswer(selectedIndex) {
            if (quizAnswered) return;

            const question = quizQuestions[currentQuiz];
            const options = document.querySelectorAll('#current-quiz-options .quiz-option');
            const feedback = document.getElementById('quiz-feedback');
            const nextButton = document.getElementById('next-quiz');

            options[selectedIndex].classList.add(selectedIndex === question.correct ? 'correct' : 'incorrect');
            options[question.correct].classList.add('correct');

            feedback.innerHTML = selectedIndex === question.correct
                ? `âœ… Correto! ${question.explanation}`
                : `âŒ Errado! A resposta correta Ã©: "${question.options[question.correct]}". ${question.explanation}`;
            feedback.className = selectedIndex === question.correct ? 'feedback positive' : 'feedback negative';
            feedback.style.display = 'block';

            nextButton.style.display = 'inline-block';
            quizAnswered = true;

            if (selectedIndex === question.correct && !currentUser.completedQuestions.has(currentQuiz)) {
                currentUser.totalScore += 10;
                currentUser.quizCompleted++;
                currentUser.completedQuestions.add(currentQuiz);
                updateAllStats();
            }
        }

        function nextQuiz() {
            currentQuiz++;
            loadQuiz();
        }

        function resetQuiz() {
            currentQuiz = 0;
            currentUser.completedQuestions.clear();
            loadQuiz();
        }

        function showScenarioFeedback(scenario, option) {
            const feedback = document.getElementById(`feedback${scenario}`);
            const scenarioKey = `scenario_${scenario}_${option}`;

            const responses = {
                1: {
                    A: { text: "Ignorar nÃ£o resolve o problema e pode encorajar o comportamento.", positive: false },
                    B: { text: "Confrontar publicamente pode gerar mais conflito. Ã‰ melhor uma abordagem privada.", positive: false },
                    C: { text: "Boa escolha! Conversar em particular pode conscientizar sem humilhar. +5 pontos! ğŸ¯", positive: true },
                    D: { text: "Excelente! Apoiar as vÃ­timas e buscar ajuda Ã© sempre a melhor opÃ§Ã£o. +5 pontos! ğŸŒŸ", positive: true }
                },
                2: {
                    A: { text: "Isso nÃ£o Ã© normal! Controle excessivo Ã© sinal de relacionamento abusivo.", positive: false },
                    B: { text: "Correto! Ã‰ importante esclarecer que amor verdadeiro nÃ£o controla. +5 pontos! ğŸ’–", positive: true },
                    C: { text: "Perfeito! Oferecer apoio e informaÃ§Ã£o sem julgar Ã© fundamental. +5 pontos! ğŸ¤", positive: true },
                    D: { text: "Perigoso! Isso pode aumentar a violÃªncia. Ã‰ melhor apoiar a vÃ­tima.", positive: false }
                },
                3: {
                    A: { text: "NÃ£o se envolver pode significar nÃ£o ajudar alguÃ©m que precisa.", positive: false },
                    B: { text: "Perguntar diretamente pode assustar. Ã‰ melhor demonstrar apoio primeiro.", positive: false },
                    C: { text: "Excelente! Mostrar apoio cria confianÃ§a para a pessoa se abrir. +5 pontos! ğŸ’™", positive: true },
                    D: { text: "Muito bom! Um adulto de confianÃ§a pode oferecer ajuda profissional. +5 pontos! ğŸ‘¨â€ğŸ«", positive: true }
                }
            };

            const response = responses[scenario][option];
            feedback.innerHTML = response.text;
            feedback.className = response.positive ? 'feedback positive' : 'feedback negative';
            feedback.style.display = 'block';

            if (response.positive && !currentUser.completedScenarios.has(scenarioKey)) {
                currentUser.totalScore += 5;
                currentUser.scenariosCompleted++;
                currentUser.completedScenarios.add(scenarioKey);

                updateAllStats();
            }
        }

        function checkWorkplaceAnswer(element, isCorrect) {
            const options = document.querySelectorAll('#workplace-quiz .quiz-option');
            const feedback = document.getElementById('workplace-feedback');

            options.forEach(option => {
                if (option === element) {
                    option.classList.add(isCorrect ? 'correct' : 'incorrect');
                } else {
                    option.style.opacity = '0.5';
                }
            });

            feedback.innerHTML = isCorrect
                ? 'Excelente! Dar espaÃ§o e apoiar colegas Ã© fundamental para um ambiente respeitoso. +5 pontos! ğŸ¯'
                : 'Essa nÃ£o Ã© a melhor opÃ§Ã£o. Ã‰ importante apoiar colegas e promover igualdade.';
            feedback.className = isCorrect ? 'feedback positive' : 'feedback negative';
            feedback.style.display = 'block';

            if (isCorrect) {
                currentUser.totalScore += 5;
                updateAllStats();
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            loadQuiz();
        });
    </script>
</body>
</html>
``` 